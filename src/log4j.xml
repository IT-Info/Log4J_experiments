<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration PUBLIC "-//log4j/log4j Configuration//EN" "log4j.dtd">
 
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
 
	 <appender name="DEBUG" class="org.apache.log4j.rolling.RollingFileAppender">
	 	<param name="Threshold" value="DEBUG" />
	    <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
	        <param name="FileNamePattern" value="logs/myapp %d{HH-mm}/myapp.%d{HH-mm}.DEBUG.log.gz" />
	    </rollingPolicy>
	    <!-- <triggeringPolicy class="org.apache.log4j.rolling.SizeBasedTriggeringPolicy">
	        <param name="MaxFileSize" value="20480" />
	    </triggeringPolicy> -->
	    <layout class="org.apache.log4j.PatternLayout">
	        <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n" />
	    </layout>
	</appender>

	 <appender name="INFO" class="org.apache.log4j.rolling.RollingFileAppender">
	 	<param name="Threshold" value="INFO" />
	    <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
	        <param name="FileNamePattern" value="logs/myapp %d{HH-mm}/myapp.%d{HH-mm}.INFO.log.gz" />
	    </rollingPolicy>
	    <!-- <triggeringPolicy class="org.apache.log4j.rolling.SizeBasedTriggeringPolicy">
	        <param name="MaxFileSize" value="20480" />
	    </triggeringPolicy> -->
	    <layout class="org.apache.log4j.PatternLayout">
	        <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n" />
	    </layout>
	</appender>
	
	 <appender name="ERROR" class="org.apache.log4j.rolling.RollingFileAppender">
	 	<param name="Threshold" value="ERROR" />
	    <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
	        <param name="FileNamePattern" value="logs/myapp %d{HH-mm}/myapp.%d{HH-mm}.ERROR.log.gz" />
	    </rollingPolicy>
	   <!--  <triggeringPolicy class="org.apache.log4j.rolling.SizeBasedTriggeringPolicy">
	        <param name="MaxFileSize" value="20480" />
	    </triggeringPolicy> -->
	    <layout class="org.apache.log4j.PatternLayout">
	        <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n" />
	    </layout>
	</appender>
	
    <appender name="console" class="org.apache.log4j.ConsoleAppender">
     	<param name="Target" value="System.out"/>
       <layout class="org.apache.log4j.PatternLayout">
          <param name="ConversionPattern" value="%-7p %d [%t] %c %x - %m%n"/>          
       </layout>
     </appender>
 
    <root>
        <appender-ref ref="INFO" />
        <appender-ref ref="DEBUG" />
        <appender-ref ref="ERROR" />
        <appender-ref ref="console" />
    </root>
</log4j:configuration>
